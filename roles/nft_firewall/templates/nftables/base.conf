# Generated by Ansible
#!/usr/sbin/nft -f

flush ruleset

table inet filter {

    chain input {
        type filter hook input priority 0
        policy drop
		
		ct state { established, related } counter accept
			
		iif lo accept comment "accept all traffic on loopback"
		
		ip protocol icmp counter accept comment "accept all ICMP types"
		ip6 nexthdr icmpv6 counter accept comment "accept all ICMP types"
		
		tcp dport ssh accept comment "accept SSH traffic"

        {% block firewall %}{% endblock %}

		counter reject with icmpx type port-unreachable
    }
}
